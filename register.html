<!DOCTYPE html>
<html>
<head>
  <title>Create Account</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js"></script>

  <script src="firebase-config.js"></script>
  <script src="scripts/app.js"></script>
</head>

<body>

<div class="auth-card">
  <h2>Create Account</h2>

  <input id="regFullname" placeholder="Full Name">
  <input id="regLocation" placeholder="Location">
  <input id="regPhone" placeholder="Contact Number">
  <input id="regEmail" type="email" placeholder="Email">
  <input id="regPassword" type="password" placeholder="Password">
  <input id="regIdFile" type="file">

  <button id="btnRegister">Create Account</button>

  <p id="regStatus"></p>
  <a href="index.html">Back to Login</a>
</div>

<script>
document.getElementById("btnRegister").addEventListener("click", async () => {
  try {
    const fullname = document.getElementById("regFullname").value;
    const location = document.getElementById("regLocation").value;
    const phone = document.getElementById("regPhone").value;
    const email = document.getElementById("regEmail").value;
    const password = document.getElementById("regPassword").value;
    const file = document.getElementById("regIdFile").files[0];

    await registerAndCreateUser({
      fullname,
      location,
      phone,
      email,
      password,
      idFile: file
    });

    document.getElementById("regStatus").innerText =
      "Account created successfully! You may now login.";

  } catch (err) {
    document.getElementById("regStatus").innerText = err.message;
  }
});
</script>

</body>
</html>
